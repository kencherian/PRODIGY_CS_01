import tkinter as tk
from tkinter import messagebox

# Caesar cipher encryption
def caesar_encrypt(text, shift):
    encrypted = ""
    for char in text:
        if char.isalpha():
            base = ord('A') if char.isupper() else ord('a')
            encrypted += chr((ord(char) - base + shift) % 26 + base)
        else:
            encrypted += char
    return encrypted

# Caesar cipher decryption
def caesar_decrypt(text, shift):
    return caesar_encrypt(text, -shift)

# Handle button click
def process_text():
    text = entry_text.get("1.0", tk.END).strip()
    try:
        shift = int(entry_shift.get())
        if not (0 <= shift <= 25):
            raise ValueError
    except ValueError:
        messagebox.showerror("Invalid Input", "Shift must be an integer between 0 and 25.")
        return

    if choice.get() == "Encrypt":
        result = caesar_encrypt(text, shift)
    else:
        result = caesar_decrypt(text, shift)

    output_text.delete("1.0", tk.END)
    output_text.insert(tk.END, result)

# GUI setup
root = tk.Tk()
root.title("Caesar Cipher")
root.geometry("400x400")
root.resizable(False, False)

# Widgets
tk.Label(root, text="Enter Text:").pack(pady=5)
entry_text = tk.Text(root, height=5, width=45)
entry_text.pack()

tk.Label(root, text="Shift (0-25):").pack(pady=5)
entry_shift = tk.Entry(root)
entry_shift.pack()

choice = tk.StringVar(value="Encrypt")
tk.Radiobutton(root, text="Encrypt", variable=choice, value="Encrypt").pack()
tk.Radiobutton(root, text="Decrypt", variable=choice, value="Decrypt").pack()

tk.Button(root, text="Submit", command=process_text).pack(pady=10)

tk.Label(root, text="Output:").pack()
output_text = tk.Text(root, height=5, width=45)
output_text.pack()

# Run GUI
root.mainloop()
